#!/bin/sh

echo "Running Pint (style check)..."
docker exec birdwatch-app ./vendor/bin/pint --test
if [ $? -ne 0 ]; then
  echo "❌ Pint failed. Fix formatting before commit."
  exit 1
fi

echo "Running tests..."
docker exec birdwatch-app php artisan test
if [ $? -ne 0 ]; then
  echo "❌ Tests failed. Fix tests before commit."
  exit 1
fi

echo "✅ Pre-commit checks passed."
